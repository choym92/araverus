# Change Log - 2025-08-12

## Summary (14:30)
- **What**: role 기반 서버 가드(authz) 추가, BlogService isAdmin 보완, /admin 레이아웃 가드
- **Why**: 이메일 하드코드 제거, 서버 우선 보안 일관성
- **Impact**: admin 접근이 서버에서 즉시 차단(동작 변경은 로그인/권한 관련만)
- **Verify**: /admin 페이지를 admin/비admin으로 접속 테스트
- **Next**: Hooks 로깅/가드 추가 (Bash/Write/Edit + 3줄 요약), RLS는 정책 준비 후 활성화

## Auth Migration Guide
**What**: Created auth migration guide for role-based authorization  
**Why**: Remove email hardcoding, implement proper role-based admin access  
**How**: Documented Phase 1 (safe setup) and Phase 2 (RLS policies)

## Docs Split
**What**: Moved architecture/schema/dev-notes out of CLAUDE.md (keep invariant)  
**Why**: Keep CLAUDE.md focused on invariant rules only  
**How**: Created separate docs files for architecture, schema, and dev notes

## CLAUDE.md Optimization
**What**: Replaced CLAUDE.md with optimized Context Engineering version  
**Why**: Better automation, clearer rules, improved Claude Code performance  
**How**: 
- Added invariant global rules
- Implemented automation checklist
- Added security/a11y/testing minimums
- Configured MCP strategy (Serena + Context7)
- Created change log system

## Project Structure
**What**: Created docs/cc directory for tracking changes  
**Why**: Maintain history of Claude Code modifications  
**How**: `mkdir -p docs/cc`

---
*Auto-generated by Claude Code*